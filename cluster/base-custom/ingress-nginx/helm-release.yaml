---
apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: ingress-nginx
  namespace: ingress-nginx
spec:
  interval: 5m
  chart:
    spec:
      # renovate: registryUrl=https://kubernetes.github.io/ingress-nginx
      chart: ingress-nginx
      sourceRef:
        kind: HelmRepository
        name: ingress-nginx
        namespace: flux-system
      interval: 5m
  values:
    controller:
      containerName: nginx
      extraArgs:
        default-ssl-certificate: "ingress-nginx/wildcard-bth-wtf-tls"
      image:
        pullPolicy: Always
      watchIngressWithoutClass: true
      ingressClassResource:
        default: true
      annotations:
        reloader.stakater.com/auto: "true"
      podAnnotations:
        reloader.stakater.com/auto: "true"
        prometheus.io/scrape: "true"
        prometheus.io/port: "10245"
      metrics:
        enabled: true
        serviceMonitor:
          enabled: true
    tcp:
      22: "gitlab/gitlab-gitlab-shell:22"
    dhparam: "LS0tLS1CRUdJTiBESCBQQVJBTUVURVJTLS0tLS0KTUlJQ0NBS0NBZ0VBa2pKQjA3RHYvNDZMWDAxbTNFaVJoWHlGTEptWGg0aXJ3elRqUEcrR1QvbGlDZTk3UUR6UAprN2MzRzNFS0ZYbERGVkt6ZURNTmFFdDVhdFpWSjA2dE82V001WkI1Uk03N0U4RWY4Q2FCTkZ0OTJwWUduZVFpClZZWDluaFdwZWJyOUZXL0xWUWxUTzdDczZqbExWcEo3L3RZVjNhcW1wQ21BekNDcmtMWjVJdS9heThqTnpDZkgKM0d0K0RPMlgxdEc0Q3o3M0lyMlVzOHowWGh4eC9kSm9kMUMxZTVMN2lJNk5QYVBseHd2Z1Q2WlVpL0VxYUt5MQpMdmFZZ2QwK1RpOURrVHBRUjZsUTlVNUFQcC9HY0FHNlNUelFQZm1YOWFUUkdTVUdtNzJ3bFM2SFluZEw2ZytzCkl3RG9TVzBIa0Q4WGoyYldzQlhCWFhpOHpqbW5BU0FGMStmREUrcWpxcGtoK1k3L1h2YThnMC8weFpJS1V4ZG4KWWpuWWlXNFZXdTR3a0ZkcmJ1aStCTlBoTG1KWFJnbU9RR04zb1VCS0QzUlNKYVd4TUs2eVMvWUZuK2VpQnRmZQo1OWNOUXc5L2FMeUgvTG5uRmJKdUN0QzR6MkxsWDdmQkd0UzhndGJldGNEQTlSR0V6Mzk0WDRZdlQrOUJxZEtjCm94dHFrY0loMEpIVG9iSFZNeVkrVHJUYUZ6d0hML1RscWU5dWE1eU8xaUUxelFrTU1La2hKVUdVWGh0TjJMaWIKcFlvVXBXd3FSaFgyS3Z5SnJYeGpIa1NpS2ZTZS80VkJtOHNXdFNnbk9URnNGQ2JlQlBzYThzdjlKaWJFNTFiMwpRQ1lGVUNjL3NVQjhQaFp6eGI3T3I4bGpyN0l6VUhnb1ZVSkxzNE5hL1FQSnNWSitEcHVlQzA4Q0FRST0KLS0tLS1FTkQgREggUEFSQU1FVEVSUy0tLS0tCg=="
